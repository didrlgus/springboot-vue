<!-- 뷰 라우터와 HTTP 통신 -->
<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale1.0">
    <title>Vue Router Sample</title>
</head>
<body>
<!-- 뷰 라우터 -->
<!--<div id="app">
    <h1>뷰 라우터 예제</h1>
    <p>
        <router-link to="/main">Main 컴포넌트로 이동</router-link>
        <router-link to="/login">Login 컴포넌트로 이동</router-link>
    </p>
    <router-view></router-view>
</div>
<hr>-->
<!-- nested 라우터 -->
<!--<div id="app2">
    <h1>네스티드 라우터 예제</h1>
    <router-view></router-view>
</div>
<hr>-->

<!-- 네임드 뷰-->
<div id="app3">
    <router-view name="header"></router-view>       <!-- 라우터 영역 정리-->
    <router-view></router-view>
    <router-view name="footer"></router-view>
</div>
<hr>

<div id="app4">
    <button v-on:click="getData">프레임워크 목록 가져오기</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.js"></script>
<script src="https://unpkg.com/vue-router@3.0.1/dist/vue-router.js"></script>   <!-- 라우터 CDN 추가 -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<script>
    /*var Main = { template: '<div>main</div>'};
    var Login = { template: '<div>login</div>'};
    var routes = [
        { path: '/main', component: Main},
        { path: '/login', component: Login }
    ];
    var router = new VueRouter({
        routes
    });
    var app = new Vue({
        mode: 'history',
        router
    }).$mount('#app');*/
    // ================================================
    /*var User = {
        template: '<div>User Component' +
            '<router-view></router-view>' +
            '</div>'
    };
    var UserProfile = { template: '<p>User Profile Component</p>' };
    var UserPost = { template: '<p>User Post Component</p>' };
    var routes = [
        {
            path: '/user',
            component: User,
            children: [
                {
                    path: 'posts',
                    component: UserPost
                },
                {
                    path: 'profile',
                    component: UserProfile
                }
            ]
        }
    ];
    var router = new VueRouter({
        routes
    });
    var app2 = new Vue({
        router
    }).$mount('#app2');*/
    // ==========================================================
    var Body = { template: '<div>This is Body</div>' };
    var Header = { template: '<div>This is Header</div>' };
    var Footer = { template: '<div>This is Footer</div>' };
    var LoginBody = { template: '<div>This is LoginBody</div>'};
    var LoginHeader = { template: '<div>This is LoginHeader</div>' };
    var LoginFooter = { template: '<div>This is LoginFooter</div>' };
    var router = new VueRouter({
        routes: [
            {
                path: '/',
                components: {
                    default: Body,
                    header: Header,
                    footer: Footer
                }
            },
            {
                path: '/login',
                components: {
                    default: LoginBody,
                    header: LoginHeader,
                    footer: LoginFooter
                }
            }
        ]
    })
    var app3 = new Vue({
        router
    }).$mount('#app3');
    // axios를 이용한 http 통신
    new Vue({
        el: '#app4',
        methods: {
            getData: function () {
                axios.get('https://raw.githubusercontent.com/joshua1988/doit-vuejs/master/data/demo.json')
                    .then(function(response) {
                        console.log(response);
                    });
            }
        }
    });
</script>
</body>
</html>